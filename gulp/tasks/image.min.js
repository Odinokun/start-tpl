'use strict';

module.exports = function() {

  $.gulp.task('image:min', function() {
    return $.gulp.src('./src/img/**/*.*')
      //выбираем директорию с которой будем сравнивать файлы (как правило это конечная директория)
      .pipe($.gp.newer($.config.root + '/assets/img'))
      //минифицируем картинки
      .pipe($.gp.imagemin({
        interlaced: true,
        progressive: true,
        svgoPlugins: [{
          removeViewBox: false }],
        use: [$.gp.pngquant()]}))
      .pipe($.gulp.dest($.config.root + '/assets/img'));
  })

};
